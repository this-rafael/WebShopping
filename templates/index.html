{{define "Index"}}
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        {{template "_bootstrap"}}
    </head>
    <body>
    <h1>Alura Loja</h1>

    {{template "_nav"}}

    <div class="container">
        <section class="card">
            <div>
                <table class="table table-striped table-hover mb-0">
                    <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Descrição</th>
                        <th>Preço</th>
                        <th>Quantidade</th>
                    </tr>
                    </thead>
                    <tbody>
                    {{ range .}}
                        <tr product-id="{{.Id}}">
                             <td>{{.Name}}</td>
                            <td>{{.Description}}</td>
                            <td>{{.Price}}</td>
                            <td>{{.Quantity }}</td>
                            <td>
                                <button onclick="deleteProduct({{.Id}})" class="btn btn-danger btn-sm">Delete</button>
                                <a href="/edit?id={{.Id}}" class="btn btn-primary btn-sm">Edit</a>
                            </td>
                        </tr>
                    {{end}}

                    </tbody>

                </table>
            </div>
        </section>

        <footer class="card-footer">
            <a href="/new " class="btn btn-primary mb-2">
                New Product
            </a>
        </footer>
    </div>

    {{template "_bootstrapscripts"}}
    <script>
        function deleteProduct(id) {
            const userResponse = confirm("You really want to delete this product?");
             if (userResponse) {
                window.location.href = "/delete?id=" + id;
             }
        }

        function editProduct(id) {

            window.location.href = "/edit/" + id;
        }
    </script>
    </body>
    </html>
{{end}}